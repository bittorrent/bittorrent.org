<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.14: http://docutils.sourceforge.net/" />
<title>bep_0004.rst_post</title>
<link rel="shortcut icon" href="../images/favicon/favicon.ico">
<meta name="author" content="David Harrison &lt;dave&#64;bittorrent.com&gt;" />
<link rel="stylesheet" href="../css/bep.css" type="text/css" />
</head>
<body>
<div class="document">

<div id="upper" class="clear">
<div id="wrap">
<div id="header">
<h1><a href="../index.html">BitTorrent<span>.org</span></a></h1>
</div>
<div id="nav">
<ul>
<li><a href="../index.html">Home</a></li>
<li><a href="../introduction.html">For Users</a></li>
<li><a href="bep_0000.html"><span>For Developers</span></a></li>
<li><a href="../mailing_list.html">Developer mailing list</a> </li>
<li><a href="http://forum.bittorrent.org"> Forums (archive) </a></li>
</ul>
</div> <!-- nav -->
<!-- ### Begin Content ### -->
<div id="second">


<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr class="bep field"><th class="docinfo-name">BEP:</th><td class="field-body">4</td>
</tr>
<tr class="title field"><th class="docinfo-name">Title:</th><td class="field-body">Assigned Numbers</td>
</tr>
<tr><th class="docinfo-name">Version:</th>
<td>48dfdcb0b1c4c6bbc8eea0b76a81ade0ef5a5f9a</td></tr>
<tr class="last-modified field"><th class="docinfo-name">Last-Modified:</th><td class="field-body">Sun Mar 26 01:08:47 2017 +0100</td>
</tr>
<tr><th class="docinfo-name">Author:</th>
<td>David Harrison &lt;<a class="reference external" href="mailto:dave&#37;&#52;&#48;bittorrent&#46;com">dave<span>&#64;</span>bittorrent<span>&#46;</span>com</a>&gt;</td></tr>
<tr><th class="docinfo-name">Status:</th>
<td>Active</td></tr>
<tr class="type field"><th class="docinfo-name">Type:</th><td class="field-body">Process</td>
</tr>
<tr class="created field"><th class="docinfo-name">Created:</th><td class="field-body">10-Jan-2008</td>
</tr>
<tr class="post-history field"><th class="docinfo-name">Post-History:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<p>This document describes the known bit allocations and message IDs for
the BitTorrent protocol.  To request a bit allocation contact
<a class="reference external" href="mailto:editor&#37;&#52;&#48;bittorrent&#46;org">editor<span>&#64;</span>bittorrent<span>&#46;</span>org</a>.  Contact the same address if you are aware of
any omissions.</p>
<div class="section" id="reserved-bit-allocations">
<h1>Reserved Bit Allocations</h1>
<pre class="literal-block">
reserved[0]
0x80  Azureus Messaging Protocol

reserved[2]
0x08  BitTorrent Location-aware Protocol (no known implementations)

reserved[5]
0x10  LTEP (Libtorrent Extension Protocol)
0x02  Extension Negotiation Protocol
0x01  Extension Negotiation Protocol

reserved[7]
0x01  BitTorrent DHT
0x02  XBT Peer Exchange
0x04  suggest, haveall, havenone, reject request, and allow fast extensions
0x08  NAT Traversal
0x10  hybrid torrent legacy to v2 upgrade
</pre>
<p>There are known collisions:</p>
<pre class="literal-block">
reserved[0]
0xFF  BitComet Extension Protocol

reserved[1]
0xFF  BitComet Extension Protocol

reserved[7]
0x01  XBT Metadata Exchange (implemented only in XBT)
</pre>
<p>It is recommended that further extensions use the Extension Protocol
<a class="footnote-reference" href="#bep-10" id="id1">[1]</a>, a.k.a., LibTorrent Extension Protocol (LTEP).  With LTEP,
extension bit collisions become impossible since no new extension bits
are allocated.  With LTEP, message ID collisions also become
impossible because message IDs are allocated on demand at the
beginning of the connection.  Extension <em>name</em> collisions become
possible, but the probability is much less likely.</p>
</div>
<div class="section" id="reserved-message-ids">
<h1>Reserved Message IDs</h1>
<pre class="literal-block">
Core Protocol:
0x00   choke
0x01   unchoke
0x02   interested
0x03   not interested
0x04   have
0x05   bitfield
0x06   request
0x07   piece
0x08   cancel

DHT Extension:
0x09   port

Fast Extensions:
0x0D   suggest
0x0E   have all
0x0F   have none
0x10   reject request
0x11   allowed fast

Additional IDs used in deployed clients:
0x14   LTEP Handshake (implemented in libtorrent, uTorrent,...)

Hash Transfer Protocol:
0x15   hash request
0x16   hashes
0x17   hash reject
</pre>
</div>
<div class="section" id="references">
<h1>References</h1>
<table class="docutils footnote" frame="void" id="bep-10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>BEP_0010.  Extension Protocol. Norberg, Strigeus, Hazel.
<a class="reference external" href="http://www.bittorrent.org/beps/bep_0010.html">http://www.bittorrent.org/beps/bep_0010.html</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="copyright">
<h1>Copyright</h1>
<p>This document has been placed in the public domain.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
coding: utf-8
End: -->
</div>

</div>
	<div id="footer">
<hr/>
</div>

</div>
</body>
</html>
